{"version":3,"sources":["app.js","dashboard.js"],"names":["$","document","ready","window","App","DashBoard","bindEvents","on","_getIndex","_getShares","_createShares","event","locId","this","val","ajax","url","method","data","loc","done","_populateIndex","fail","_error","resp","indices","JSON","parse","empty","forEach","obj","append","id","index","console","log","removeClass","addClass","index_id","_populateShares","preventDefault","res","shares","e","html","find","order","name","symbol","price_initiated","recommendation","after","parseInt","_createShareSuccess"],"mappings":"AAAAA,EAAAC,UAAAC,MAAA,WACAC,OAAAC,IAAAC,UAAAC,eCDAF,IAAA,SAAAA,KAOA,QAAAE,cACAN,EAAA,0BAAAO,GAAA,SAAAC,WACAR,EAAA,kBAAAO,GAAA,SAAAE,YACAT,EAAA,qBAAAO,GAAA,SAAAG,eAGA,QAAAF,WAAAG,OACA,GAAAC,OAAAZ,EAAAa,MAAAC,KACAd,GAAAe,MACAC,IAAA,0BACAC,OAAA,OACAC,MACAC,IAAAP,SAGAQ,KAAAC,gBACAC,KAAAC,QAGA,QAAAF,gBAAAG,MACA,GAAAC,SAAAC,KAAAC,MAAAH,KACAxB,GAAA,uBAAA4B,QACAH,QAAAI,QAAA,SAAAC,KACA9B,EAAA,uBAAA+B,OAAA,kBAAAD,IAAAE,GAAA,KAAAF,IAAAG,MAAA,eAIA,QAAAV,UACAW,QAAAC,IAAA,SACAnC,EAAA,wBAAAoC,YAAA,WAGA,QAAA3B,YAAAE,OACAX,EAAA,wBAAAqC,SAAA,UACA,IAAAC,UAAAtC,EAAA,uBAAAc,KACAd,GAAAe,MACAC,IAAA,yBACAC,OAAA,OACAC,MACAoB,SAAAA,YAGAlB,KAAAmB,iBACAjB,KAAAC,QAEAZ,MAAA6B,iBAGA,QAAAD,iBAAAE,KACA,IACA,GAAAC,QAAAhB,KAAAC,MAAAc,KACA,MAAAE,GACA3C,EAAA,wBAAAoC,YAAA,WAEA,GAAAQ,MAAA,EACA5C,GAAA,eAAA6C,KAAA,YAAAjB,QACAc,OAAAb,QAAA,SAAAC,KACAc,MAAA,kBACAd,IAAAgB,MAAA,kBACAhB,IAAAiB,KAAA,mBACAjB,IAAAkB,OAAA,mBACAlB,IAAAmB,gBAAA,mBACAnB,IAAAoB,eAAA,giBASAlD,EAAA,uBAAAmD,MAAAP,MACA5C,EAAA,wBAAAoC,YAAA,WAIA,QAAA1B,eAAAC,OACAX,EAAA,qBAAAqC,SAAA,UACA,IAAAC,UAAAtC,EAAA,uBAAAc,MACAiC,KAAA/C,EAAA,qBAAAc,MACAkC,OAAAhD,EAAA,uBAAAc,MACAmC,gBAAAjD,EAAA,gCAAAc,MACAoC,eAAAlD,EAAA,+BAAAc,MACAgC,MAAA9C,EAAA,sBAAAc,KAEAd,GAAAe,MACAC,IAAA,+BACAC,OAAA,OACAC,MACAoB,SAAAA,SACAS,KAAAA,KACAC,OAAAA,OACAC,gBAAAA,gBACAC,eAAAE,SAAAF,gBAAA,EACAJ,MAAAA,SAGA1B,KAAAiC,qBACA/B,KAAAC,QAEAZ,MAAA6B,iBAGA,QAAAa,uBACAnB,QAAAC,IAAA,MA7GA,GAAA9B,aAiHA,OAhHAA,WAAAC,WAAAA,WA+GAF,IAAAC,UAAAA,UACAD,KAEAD,OAAAC","file":"app.min.js","sourcesContent":["$(document).ready(function() {\n\twindow.App.DashBoard.bindEvents();\n});","App = (function(App) {\n\t\n\tvar DashBoard = {};\n\tDashBoard.bindEvents = bindEvents;\n\n\n\t////\n\tfunction bindEvents() {\n\t\t$(\"#locationform-location\").on(\"change\", _getIndex);\n\t\t$(\"#location-form\").on(\"submit\", _getShares);\n\t\t$(\"#createshare-form\").on(\"submit\", _createShares);\n\t}\n\n\tfunction _getIndex(event) {\n\t\tvar locId = $(this).val();\n\t\t$.ajax({\n\t\t\turl: '/?c=dashboard&a=indices',\n\t\t\tmethod: \"POST\",\n\t\t\tdata: {\n\t\t\t\tloc: locId\n\t\t\t}\t\n\t\t})\n\t\t.done(_populateIndex)\n\t\t.fail(_error);\n\t}\n\n\tfunction _populateIndex(resp) {\n\t\tvar indices = JSON.parse(resp);\n\t\t$('#locationform-index').empty();\n\t\tindices.forEach(function(obj) {\n\t\t\t$('#locationform-index').append('<option value=\"' + obj.id +'\">' + obj.index + '</option>');\n\t\t});\n\t}\n\n\tfunction _error() {\n\t\tconsole.log(\"error\");\n\t\t$('#locationform-loader').removeClass(\"loading\");\n\t}\n\n\tfunction _getShares(event) {\n\t\t$('#locationform-loader').addClass(\"loading\");\n\t\tvar index_id = $(\"#locationform-index\").val();\n\t\t$.ajax({\n\t\t\turl: '/?c=dashboard&a=shares',\n\t\t\tmethod: \"POST\",\n\t\t\tdata: {\n\t\t\t\tindex_id: index_id\n\t\t\t}\t\n\t\t})\n\t\t.done(_populateShares)\n\t\t.fail(_error);\n\n\t\tevent.preventDefault();\n\t}\n\n\tfunction _populateShares(res) {\n\t\ttry\t{\n\t\t\tvar shares = JSON.parse(res);\n\t\t} catch(e) {\n\t\t\t$('#locationform-loader').removeClass(\"loading\");\t\n\t\t}\n\t\tvar html = '';\n\t\t$('#shares-tbl').find('tr:gt(0)').empty();\n\t\tshares.forEach(function(obj) {\n\t\t\thtml += '<tr> \\\n\t\t\t<td>'+ obj.order + '</td>\\\n\t\t\t<td>' + obj.name+ '</td> \\\n\t\t\t<td>' + obj.symbol + '</td> \\\n\t\t\t<td>' + obj.price_initiated +'</td> \\\n\t\t\t<td>' + obj.recommendation + '</td> \\\n\t\t\t<td><a href=\"/share/view?id=25\" title=\"View\" aria-label=\"View\" data-pjax=\"0\"> \\\n\t\t\t\t<span class=\"glyphicon glyphicon-eye-open\"></span></a> \\\n\t\t\t\t<a href=\"/share/update?id=25\" title=\"Update\" aria-label=\"Update\" data-pjax=\"0\"> \\\n\t\t\t\t<span class=\"glyphicon glyphicon-pencil\"></span></a> \\\n\t\t\t\t<a href=\"/share/delete?id=25\" title=\"Delete\" aria-label=\"Delete\" data-confirm=\"Are you sure you want to delete this item?\" data-method=\"post\" data-pjax=\"0\"><span class=\"glyphicon glyphicon-trash\"></span></a>\\\n\t\t\t</td>\\\n\t\t\t</tr>';\n\t\t});\n\t\t$('#shares-tbl tr:last').after(html);\n\t\t$('#locationform-loader').removeClass(\"loading\");\n\n\t}\n\n\tfunction _createShares(event) {\n\t\t$('#shareform-loader').addClass(\"loading\");\n\t\tvar index_id = $(\"#locationform-index\").val();\n\t\tvar name = $(\"#createshare-name\").val();\n\t\tvar symbol = $(\"#createshare-symbol\").val();\n\t\tvar price_initiated = $(\"#createshare-price_initiated\").val();\n\t\tvar recommendation = $(\"#createshare-recommendation\").val();\n\t\tvar order = $(\"#createshare-order\").val();\n\n\t\t$.ajax({\n\t\t\turl: '/?c=dashboard&a=createshares',\n\t\t\tmethod: \"POST\",\n\t\t\tdata: {\n\t\t\t\tindex_id: index_id,\n\t\t\t\tname: name,\n\t\t\t\tsymbol: symbol,\n\t\t\t\tprice_initiated: price_initiated,\n\t\t\t\trecommendation: parseInt(recommendation) + 1,\n\t\t\t\torder: order\n\t\t\t}\t\n\t\t})\n\t\t.done(_createShareSuccess)\n\t\t.fail(_error);\n\n\t\tevent.preventDefault();\n\t}\n\n\tfunction _createShareSuccess() {\n\t\tconsole.log(\"ok\");\t\n\t}\n\n\tApp.DashBoard = DashBoard;\n\treturn App;\n\n})(window.App || {});"],"sourceRoot":"/source/"}