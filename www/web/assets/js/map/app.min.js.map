{"version":3,"sources":["app.js","dashboard.js"],"names":["$","document","ready","window","App","DashBoard","bindEvents","on","_getIndex","_getShares","event","locId","this","val","ajax","url","method","data","loc","done","_populateIndex","fail","_error","resp","indices","JSON","parse","empty","forEach","obj","append","id","index","console","log","removeClass","addClass","index_id","_populateShares","preventDefault","res","shares","e","html","name","symbol","price_initiated","recommendation","after"],"mappings":"AAAAA,EAAAC,UAAAC,MAAA,WACAC,OAAAC,IAAAC,UAAAC,eCDAF,IAAA,SAAAA,KAOA,QAAAE,cACAN,EAAA,0BAAAO,GAAA,SAAAC,WACAR,EAAA,kBAAAO,GAAA,SAAAE,YAGA,QAAAD,WAAAE,OACA,GAAAC,OAAAX,EAAAY,MAAAC,KACAb,GAAAc,MACAC,IAAA,0BACAC,OAAA,OACAC,MACAC,IAAAP,SAGAQ,KAAAC,gBACAC,KAAAC,QAGA,QAAAF,gBAAAG,MACA,GAAAC,SAAAC,KAAAC,MAAAH,KACAvB,GAAA,uBAAA2B,QACAH,QAAAI,QAAA,SAAAC,KACA7B,EAAA,uBAAA8B,OAAA,kBAAAD,IAAAE,GAAA,KAAAF,IAAAG,MAAA,eAIA,QAAAV,UACAW,QAAAC,IAAA,SACAlC,EAAA,wBAAAmC,YAAA,WAGA,QAAA1B,YAAAC,OACAV,EAAA,wBAAAoC,SAAA,UACA,IAAAC,UAAArC,EAAA,uBAAAa,KACAb,GAAAc,MACAC,IAAA,yBACAC,OAAA,OACAC,MACAoB,SAAAA,YAGAlB,KAAAmB,iBACAjB,KAAAC,QAEAZ,MAAA6B,iBAGA,QAAAD,iBAAAE,KACA,IACA,GAAAC,QAAAhB,KAAAC,MAAAc,KACA,MAAAE,GACA1C,EAAA,wBAAAmC,YAAA,WAEA,GAAAQ,MAAA,EACA3C,GAAA,wBAAA2B,QACAc,OAAAb,QAAA,SAAAC,KACAc,MAAA,4BACAd,IAAAe,KAAA,mBACAf,IAAAgB,OAAA,mBACAhB,IAAAiB,gBAAA,mBACAjB,IAAAkB,eAAA,giBASA/C,EAAA,uBAAAgD,MAAAL,MACA3C,EAAA,wBAAAmC,YAAA,WA3EA,GAAA9B,aAmFA,OAlFAA,WAAAC,WAAAA,WAiFAF,IAAAC,UAAAA,UACAD,KAEAD,OAAAC","file":"app.min.js","sourcesContent":["$(document).ready(function() {\n\twindow.App.DashBoard.bindEvents();\n});","App = (function(App) {\n\t\n\tvar DashBoard = {};\n\tDashBoard.bindEvents = bindEvents;\n\n\n\t////\n\tfunction bindEvents() {\n\t\t$(\"#locationform-location\").on(\"change\", _getIndex);\n\t\t$(\"#location-form\").on(\"submit\", _getShares);\n\t}\n\n\tfunction _getIndex(event) {\n\t\tvar locId = $(this).val();\n\t\t$.ajax({\n\t\t\turl: '/?c=dashboard&a=indices',\n\t\t\tmethod: \"POST\",\n\t\t\tdata: {\n\t\t\t\tloc: locId\n\t\t\t}\t\n\t\t})\n\t\t.done(_populateIndex)\n\t\t.fail(_error);\n\t}\n\n\tfunction _populateIndex(resp) {\n\t\tvar indices = JSON.parse(resp);\n\t\t$('#locationform-index').empty();\n\t\tindices.forEach(function(obj) {\n\t\t\t$('#locationform-index').append('<option value=\"' + obj.id +'\">' + obj.index + '</option>');\n\t\t});\n\t}\n\n\tfunction _error() {\n\t\tconsole.log(\"error\");\n\t\t$('#locationform-loader').removeClass(\"loading\");\n\t}\n\n\tfunction _getShares(event) {\n\t\t$('#locationform-loader').addClass(\"loading\");\n\t\tvar index_id = $(\"#locationform-index\").val();\n\t\t$.ajax({\n\t\t\turl: '/?c=dashboard&a=shares',\n\t\t\tmethod: \"POST\",\n\t\t\tdata: {\n\t\t\t\tindex_id: index_id\n\t\t\t}\t\n\t\t})\n\t\t.done(_populateShares)\n\t\t.fail(_error);\n\n\t\tevent.preventDefault();\n\t}\n\n\tfunction _populateShares(res) {\n\t\ttry\t{\n\t\t\tvar shares = JSON.parse(res);\n\t\t} catch(e) {\n\t\t\t$('#locationform-loader').removeClass(\"loading\");\t\n\t\t}\n\t\tvar html = '';\n\t\t$('#shares-tbl tbody tr').empty();\n\t\tshares.forEach(function(obj) {\n\t\t\thtml += '<tr> \\\n\t\t\t<td>1</td><td>' + obj.name+ '</td> \\\n\t\t\t<td>' + obj.symbol + '</td> \\\n\t\t\t<td>' + obj.price_initiated +'</td> \\\n\t\t\t<td>' + obj.recommendation + '</td> \\\n\t\t\t<td><a href=\"/share/view?id=25\" title=\"View\" aria-label=\"View\" data-pjax=\"0\"> \\\n\t\t\t\t<span class=\"glyphicon glyphicon-eye-open\"></span></a> \\\n\t\t\t\t<a href=\"/share/update?id=25\" title=\"Update\" aria-label=\"Update\" data-pjax=\"0\"> \\\n\t\t\t\t<span class=\"glyphicon glyphicon-pencil\"></span></a> \\\n\t\t\t\t<a href=\"/share/delete?id=25\" title=\"Delete\" aria-label=\"Delete\" data-confirm=\"Are you sure you want to delete this item?\" data-method=\"post\" data-pjax=\"0\"><span class=\"glyphicon glyphicon-trash\"></span></a>\\\n\t\t\t</td>\\\n\t\t\t</tr>';\n\t\t});\n\t\t$('#shares-tbl tr:last').after(html);\n\t\t$('#locationform-loader').removeClass(\"loading\");\n\n\t}\n\n\n\n\n\tApp.DashBoard = DashBoard;\n\treturn App;\n\n})(window.App || {});"],"sourceRoot":"/source/"}